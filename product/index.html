<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Produkt - Defined by LAZJ</title>
        <link rel="icon" type="image/jpeg" href="../img/logo.jpg">

    <link rel="stylesheet" href="../intro/intro.css">
    <link rel="stylesheet" href="product.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body class="site-wrapper">
    <div id="header-placeholder"></div>

    <main class="main-content">
        <section class="product-container">
            <div class="product-card">
                <div class="product-image-slider">
                    <button class="slider-arrow prev" onclick="changeSlide(-1)" aria-label="Vorheriges Bild">&#10094;</button>
                    
                    <div class="slides-container">
                        <img src="../img/produktbildNeu.jpeg" class="product-slide active" alt="LAZJ Bag">
                        <img src="../img/produktSpiegel.jpeg" class="product-slide" alt="LAZJ Bag Innenansicht mit Spiegel">
                    </div>
                    
                    <button class="slider-arrow next" onclick="changeSlide(1)" aria-label="Nächstes Bild">&#10095;</button>
                    
                    <div class="slider-dots">
                        <span class="dot active" onclick="currentSlide(0)"></span>
                        <span class="dot" onclick="currentSlide(1)"></span>
                    </div>
                </div>
                
                <div class="product-details">
                    <span class="product-category">Necessaire</span>
                    <h1 class="product-title">LAZJ Bag</h1>
                    <p class="product-price">CHF 20.00</p>
                    
                    <div class="product-selection">
                        <label>Farbe wählen:</label>
                        <div class="color-options">
                            <label class="color-radio">
                                <input type="radio" name="color" value="Mint-Weiss" checked>
                                <span class="checkmark white"></span> Mint - weiss
                            </label>
                            <label class="color-radio">
                                <input type="radio" name="color" value="Braun">
                                <span class="checkmark brown"></span> Braun
                            </label>
                        </div>
                    </div>

                    <button class="btn-add-to-cart" onclick="addToCart()">In den Warenkorb</button>

                    <div class="product-accordion">
                        <details>
                            <summary>Produktbeschreibung</summary>
                            <div class="accordion-content">
                                <p>
                                    Unser leichtes Necessaire ist ein praktischer Begleiter für jeden Tag. Es hilft, Ordnung zu halten, ohne dabei gross zu wirken. Die Grösse ist bewusst gewählt: genug Platz für persönliche Utensilien und trotzdem handlich genug für unterwegs oder auf Reisen.

                                <p>Gefertigt wird jedes Necessaire aus recycelten Stoffen. Alte Textilien werden sorgfältig gesammelt und in Handarbeit zu neuen, hochwertigen Produkten verarbeitet. Kein Stoff wird weggeworfen. Aus Alt wird Wertvolles. Dieser respektvolle Umgang mit Material und Herstellung war uns von Anfang an wichtig.</p>

Das Necessaire ist in Braun und Mintgrün erhältlich. Auf der Vorderseite finden sich kleine Sprüche, die den Tag ermutigen, ein Lächeln schenken und ihn verschönern. Ein integrierter Spiegel ist immer mit dabei und erweist sich in vielen Situationen als nützlich. Abgerundet wird das Design durch handgefertigte Anhänger am Reissverschluss, die jedes Stück besonders machen.
                                </p>
                            </div>
                        </details>
                        
                        <details>
                            <summary>Nutzung & Vorteile</summary>
                            <div class="accordion-content">
                                <p>
                                    Unser Necessaire überzeugt durch seine kompakte, handliche Form und passt problemlos in jede Tasche. Ob für die Schule, den Alltag oder auf Reisen, es lässt sich überallhin mitnehmen und ist ideal für unterwegs. Trotz seiner kompakten Grösse bietet es ausreichend Stauraum, um alle wichtigen Utensilien ordentlich und bequem zu verstauen.

                                    <p>Ein integrierter Spiegel sorgt für zusätzlichen Komfort und ist jederzeit griffbereit. So ermöglicht das Necessaire, sich unterwegs schnell frisch zu machen und alles Wichtige an einem Ort aufzubewahren. Ein praktischer Begleiter für jeden Tag.</p>
                                </p>
                            </div>
                        </details>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <div id="footer-placeholder"></div>

    <script src="../scripts/loadHeader.js"></script>
    <script src="../scripts/loadFooter.js"></script>

    <script>
        // Slider Logik
        let slideIndex = 0;
        const slides = document.querySelectorAll('.product-slide');
        const dots = document.querySelectorAll('.dot');

        function changeSlide(n) {
            showSlide(slideIndex += n);
        }

        function currentSlide(n) {
            showSlide(slideIndex = n);
        }

        function showSlide(n) {
            if (n >= slides.length) slideIndex = 0;
            if (n < 0) slideIndex = slides.length - 1;
            
            slides.forEach(slide => slide.classList.remove('active'));
            dots.forEach(dot => dot.classList.remove('active'));
            
            slides[slideIndex].classList.add('active');
            dots[slideIndex].classList.add('active');
        }

        function addToCart() {
            const color = document.querySelector('input[name="color"]:checked').value;
            
            
            let priceId = (color === 'Mint-Weiss') 
                ? 'price_1Spun6HO3805tqvux29s5jZ3'
                : 'price_1Spt8QHO3805tqvum7NcprDu'; 

            const product = {
                id: priceId, 
                name: 'LAZJ Bag',
                price: 20.00,
                color: color,
                quantity: 1,
                image: '../img/produktbildNeu.jpeg' 
            };

            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            const existingIndex = cart.findIndex(item => item.id === product.id);

            if (existingIndex > -1) {
                cart[existingIndex].quantity += 1;
            } else {
                cart.push(product);
            }

            localStorage.setItem('cart', JSON.stringify(cart));
            window.location.href = '../shopcart/'; 
        }
    </script>
</body>
</html>